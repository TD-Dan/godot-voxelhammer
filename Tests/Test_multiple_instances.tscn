[gd_scene load_steps=21 format=3 uid="uid://yuxo6btsfjb5"]

[ext_resource type="Material" uid="uid://cy3iyc1vgtogu" path="res://materials/Default_world.tres" id="1_eh6p3"]
[ext_resource type="PackedScene" uid="uid://b5fa6m6t14mp" path="res://addons/TallDwarf/VoxelHammer/classes/Node3D/VoxelInstance3D.tscn" id="2_f7wxu"]
[ext_resource type="Script" path="res://addons/TallDwarf/VoxelHammer/classes/Resource/VoxelData.gd" id="3_ldals"]
[ext_resource type="Material" uid="uid://0gykgi4mmdo6" path="res://addons/TallDwarf/VoxelHammer/res/mat_error.tres" id="4_am8li"]
[ext_resource type="Material" uid="uid://qdfs2qt8trs" path="res://addons/TallDwarf/VoxelHammer/res/mat_uvtest.tres" id="5_27j5n"]
[ext_resource type="Material" uid="uid://diivkrqknfga3" path="res://addons/TallDwarf/VoxelHammer/res/mat_benchmark.tres" id="6_dpy4i"]
[ext_resource type="Material" uid="uid://jfdghx0ou4ar" path="res://addons/TallDwarf/VoxelHammer/res/mat_white.tres" id="7_oyxrk"]
[ext_resource type="Script" path="res://addons/TallDwarf/VoxelHammer/classes/Resource/VoxelConfiguration.gd" id="8_jvse2"]
[ext_resource type="Material" uid="uid://bfpv45gqj8nvl" path="res://materials/Default_object.tres" id="9_gmevr"]

[sub_resource type="PlaneMesh" id="PlaneMesh_f7hbq"]
material = ExtResource("1_eh6p3")
size = Vector2(16, 8)

[sub_resource type="BoxShape3D" id="BoxShape3D_w4xxq"]
size = Vector3(16, 0.01, 8)

[sub_resource type="Resource" id="Resource_jg6ty"]
resource_local_to_scene = true
script = ExtResource("3_ldals")
size = Vector3i(3, 3, 3)
data = PackedInt64Array(4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4)

[sub_resource type="Resource" id="Resource_cvyiy"]
resource_local_to_scene = true
script = ExtResource("3_ldals")
size = Vector3i(3, 3, 4)
data = PackedInt64Array(2, 1, 1, 2, 2, 2, 2, 2, 0, 3, 3, 0, 3, 1, 1, 0, 1, 1, 3, 3, 0, 3, 3, 1, 0, 1, 1, 3, 3, 3, 3, 0, 0, 0, 0, 0)

[sub_resource type="Resource" id="Resource_cb02w"]
resource_local_to_scene = true
script = ExtResource("3_ldals")
size = Vector3i(1, 1, 1)
data = PackedInt64Array(2)

[sub_resource type="Resource" id="Resource_fgu1i"]
resource_local_to_scene = true
script = ExtResource("3_ldals")
size = Vector3i(5, 3, 2)
data = PackedInt64Array(2, 2, 2, 2, 2, 2, 2, 0, 0, 2, 2, 2, 2, 2, 2, 2, 0, 0, 2, 2, 2, 0, 0, 2, 2, 2, 2, 2, 2, 2)

[sub_resource type="Resource" id="Resource_q8fwt"]
script = ExtResource("8_jvse2")
materials = Array[Material]([ExtResource("4_am8li"), ExtResource("5_27j5n"), ExtResource("6_dpy4i"), ExtResource("7_oyxrk")])
voxel_reference_size = 1.0
mesh_mode = 2
accel_mode = 0
thread_mode = 1
material_to_edit = 0
double_material_size = false
half_material_size = false

[sub_resource type="Resource" id="Resource_3e0iy"]
resource_local_to_scene = true
script = ExtResource("3_ldals")
size = Vector3i(4, 4, 4)
data = PackedInt64Array(2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2)

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_dqaby"]
friction = 0.14
bounce = 0.8

[sub_resource type="SphereMesh" id="SphereMesh_vfbw8"]
material = ExtResource("9_gmevr")

[sub_resource type="SphereShape3D" id="SphereShape3D_8plca"]

[node name="TestSceneVoxelHammer" type="Node3D"]

[node name="Structures" type="Node3D" parent="."]

[node name="Plane" type="StaticBody3D" parent="Structures"]
metadata/_edit_group_ = true

[node name="PlaneMesh" type="MeshInstance3D" parent="Structures/Plane"]
mesh = SubResource("PlaneMesh_f7hbq")

[node name="PlaneShape" type="CollisionShape3D" parent="Structures/Plane"]
shape = SubResource("BoxShape3D_w4xxq")

[node name="Plane2" type="StaticBody3D" parent="Structures"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -8)
metadata/_edit_group_ = true

[node name="PlaneMesh" type="MeshInstance3D" parent="Structures/Plane2"]
mesh = SubResource("PlaneMesh_f7hbq")

[node name="PlaneShape" type="CollisionShape3D" parent="Structures/Plane2"]
shape = SubResource("BoxShape3D_w4xxq")

[node name="Basic Tests" type="Node3D" parent="."]

[node name="UV_COLTest" type="StaticBody3D" parent="Basic Tests"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6, 0, -1)

[node name="VoxelInstance3D" parent="Basic Tests/UV_COLTest" instance=ExtResource("2_f7wxu")]
transform = Transform3D(0.866025, 0, -0.5, 0, 1, 0, 0.5, 0, 0.866025, 1.86162, 0, 0.507553)
voxel_data = SubResource("Resource_jg6ty")

[node name="VoxelInstance3D2" parent="Basic Tests/UV_COLTest" instance=ExtResource("2_f7wxu")]
transform = Transform3D(0.866025, 0, -0.5, 0, 1, 0, 0.5, 0, 0.866025, 0.19665, 4.76837e-07, -4.29504)
voxel_data = SubResource("Resource_cvyiy")
generate_collision_sibling = 3

[node name="VoxelInstance3D4" parent="Basic Tests/UV_COLTest" instance=ExtResource("2_f7wxu")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 2.38832)
voxel_data = SubResource("Resource_cb02w")
generate_collision_sibling = 1

[node name="@VoxelInstance3D@67000" parent="Basic Tests/UV_COLTest" instance=ExtResource("2_f7wxu")]
transform = Transform3D(0.939692, 0, 0.34202, 0, 1, 0, -0.34202, 0, 0.939692, 1.9, 0, -9.2)
voxel_data = SubResource("Resource_fgu1i")
generate_collision_sibling = 3

[node name="BigChunk" type="StaticBody3D" parent="Basic Tests"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8, 0, -12)

[node name="VoxelInstance3D4" parent="Basic Tests/BigChunk" instance=ExtResource("2_f7wxu")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4, 0, 0)
configuration = SubResource("Resource_q8fwt")
voxel_data = SubResource("Resource_3e0iy")
generate_collision_sibling = 3

[node name="Sphere" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.36718, 1.38425, -1.50251)
mass = 10.0
physics_material_override = SubResource("PhysicsMaterial_dqaby")
metadata/_edit_group_ = true

[node name="SphereMesh" type="MeshInstance3D" parent="Sphere"]
gi_mode = 2
mesh = SubResource("SphereMesh_vfbw8")

[node name="SphereShape" type="CollisionShape3D" parent="Sphere"]
shape = SubResource("SphereShape3D_8plca")
