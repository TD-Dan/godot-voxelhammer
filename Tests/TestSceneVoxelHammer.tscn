[gd_scene load_steps=13 format=3 uid="uid://dguxeu0vktl0n"]

[ext_resource type="Material" uid="uid://cy3iyc1vgtogu" path="res://materials/Default_world.tres" id="1_biel5"]
[ext_resource type="PackedScene" uid="uid://b5fa6m6t14mp" path="res://addons/TallDwarf/VoxelHammer/classes/Node3D/VoxelInstance3D.tscn" id="2_1qj2a"]
[ext_resource type="Script" path="res://addons/TallDwarf/VoxelHammer/classes/Resource/VoxelData.gd" id="4_q3a27"]
[ext_resource type="Material" uid="uid://bfpv45gqj8nvl" path="res://materials/Default_object.tres" id="5_jbedj"]

[sub_resource type="PlaneMesh" id="PlaneMesh_f7hbq"]
material = ExtResource("1_biel5")
size = Vector2(16, 8)

[sub_resource type="BoxShape3D" id="BoxShape3D_w4xxq"]
size = Vector3(16, 0.01, 8)

[sub_resource type="Resource" id="Resource_3hsp2"]
resource_local_to_scene = true
script = ExtResource("4_q3a27")
size = Vector3i(1, 1, 1)
data = PackedInt64Array(1, 1, 1, 2, 2, 2, 2, 2, 0, 3, 3, 0, 3, 1, 1, 0, 1, 1, 3, 3, 0, 3, 3, 1, 0, 1, 1, 3, 3, 3, 3, 0, 0, 0, 0, 0)

[sub_resource type="Resource" id="Resource_1muqo"]
resource_local_to_scene = true
script = ExtResource("4_q3a27")
size = Vector3i(3, 3, 4)
data = PackedInt64Array(1, 1, 1, 2, 2, 2, 2, 2, 0, 3, 3, 0, 3, 1, 1, 0, 1, 1, 3, 3, 0, 3, 3, 1, 0, 1, 1, 3, 3, 3, 3, 0, 0, 0, 0, 0)

[sub_resource type="Resource" id="Resource_x42ii"]
resource_local_to_scene = true
script = ExtResource("4_q3a27")
size = Vector3i(3, 3, 3)
data = PackedInt64Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1)

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_dqaby"]
friction = 0.14
bounce = 0.8

[sub_resource type="SphereMesh" id="SphereMesh_vfbw8"]
material = ExtResource("5_jbedj")

[sub_resource type="SphereShape3D" id="SphereShape3D_8plca"]

[node name="TestSceneVoxelHammer" type="Node3D"]

[node name="Structures" type="Node3D" parent="."]

[node name="Plane" type="StaticBody3D" parent="Structures"]
metadata/_edit_group_ = true

[node name="PlaneMesh" type="MeshInstance3D" parent="Structures/Plane"]
mesh = SubResource("PlaneMesh_f7hbq")

[node name="PlaneShape" type="CollisionShape3D" parent="Structures/Plane"]
shape = SubResource("BoxShape3D_w4xxq")

[node name="Plane2" type="StaticBody3D" parent="Structures"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -8)
metadata/_edit_group_ = true

[node name="PlaneMesh" type="MeshInstance3D" parent="Structures/Plane2"]
mesh = SubResource("PlaneMesh_f7hbq")

[node name="PlaneShape" type="CollisionShape3D" parent="Structures/Plane2"]
shape = SubResource("BoxShape3D_w4xxq")

[node name="Basic Tests" type="Node3D" parent="."]

[node name="UVTest" type="StaticBody3D" parent="Basic Tests"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6, 0, -1)

[node name="VoxelInstance3D" parent="Basic Tests/UVTest" instance=ExtResource("2_1qj2a")]
transform = Transform3D(0.866025, 0, -0.5, 0, 1, 0, 0.5, 0, 0.866025, 1.86162, 0, 0.507553)
voxel_data = SubResource("Resource_3hsp2")
generate_collision_sibling = 1

[node name="VoxelInstance3D2" parent="Basic Tests/UVTest" instance=ExtResource("2_1qj2a")]
transform = Transform3D(0.866025, 0, -0.5, 0, 1, 0, 0.5, 0, 0.866025, 0.212436, 0, -4.3)
voxel_data = SubResource("Resource_1muqo")
generate_collision_sibling = 3

[node name="@VoxelInstance3D@31571" parent="Basic Tests/UVTest" instance=ExtResource("2_1qj2a")]
transform = Transform3D(0.866025, 0, 0.5, 0, 1, 0, -0.5, 0, 0.866025, 0, 0, -10)
voxel_data = SubResource("Resource_x42ii")
generate_collision_sibling = 2

[node name="Sphere" type="RigidDynamicBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.36718, 1.38425, -1.50251)
mass = 10.0
physics_material_override = SubResource("PhysicsMaterial_dqaby")
metadata/_edit_group_ = true

[node name="SphereMesh" type="MeshInstance3D" parent="Sphere"]
gi_mode = 2
mesh = SubResource("SphereMesh_vfbw8")

[node name="SphereShape" type="CollisionShape3D" parent="Sphere"]
shape = SubResource("SphereShape3D_8plca")
